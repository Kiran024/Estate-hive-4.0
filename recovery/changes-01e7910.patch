commit 01e7910d309140a2d02804425ec8f5ebd1c79a3b
Author: Kiran024 <145450942+Kiran024@users.noreply.github.com>
Date:   Tue Sep 2 21:20:50 2025 +0530

    UpdateJSXFiles

diff --git a/src/components/AuthPage.jsx b/src/components/AuthPage.jsx
index 68a52c6..0c89b06 100644
--- a/src/components/AuthPage.jsx
+++ b/src/components/AuthPage.jsx
@@ -34,14 +34,20 @@ const AuthPage = () => {
     // Handle OAuth callback
     if (window.location.hash && window.location.hash.includes('access_token')) {
       authService.handleOAuthCallback().then(() => {
-        const from = localStorage.getItem('authRedirectTo') || location.state?.from || '/';
+        // After email verification or magic link: go to Sign In page
         localStorage.removeItem('authRedirectTo');
-        navigate(from);
+        navigate('/auth');
       });
     }
 
     const { data: listener } = supabase.auth.onAuthStateChange((event, session) => {
       if (event === 'SIGNED_IN' && session?.user) {
+        if (window.location.hash && window.location.hash.includes('access_token')) {
+          // Email verification or magic link: land on Sign In page
+          localStorage.removeItem('authRedirectTo');
+          navigate('/auth');
+          return;
+        }
         const from = localStorage.getItem('authRedirectTo') || location.state?.from || '/';
         localStorage.removeItem('authRedirectTo');
         navigate(from);
@@ -86,7 +92,8 @@ const AuthPage = () => {
       password,
       options: {
         data: { full_name: fullName, phone: phone },
-        emailRedirectTo: `${window.location.origin}/confirmed`,
+        // After email verify, open the Sign In (Welcome Back) page
+        emailRedirectTo: `${window.location.origin}/#/auth`,
       },
     });
 
@@ -130,7 +137,8 @@ const AuthPage = () => {
     setLoading(true);
     setMessage('');
     const { error } = await supabase.auth.resetPasswordForEmail(email, {
-      redirectTo: `${window.location.origin}/auth-reset`,
+      // Open dedicated reset password page in the SPA
+      redirectTo: `${window.location.origin}/#/auth-reset`,
     });
     if (error) {
       setMessage(error.message);
@@ -485,4 +493,4 @@ const AuthPage = () => {
   );
 };
 
-export default AuthPage;
\ No newline at end of file
+export default AuthPage;
diff --git a/src/pages/AllPropertiesEnhanced.jsx b/src/pages/AllPropertiesEnhanced.jsx
index d03832a..97cb584 100644
--- a/src/pages/AllPropertiesEnhanced.jsx
+++ b/src/pages/AllPropertiesEnhanced.jsx
@@ -96,6 +96,10 @@ export default function AllPropertiesEnhanced() {
       newFilters.category = params.get('category');
       hasChanges = true;
     }
+    if (params.get('subcategory')) {
+      newFilters.subcategory = params.get('subcategory');
+      hasChanges = true;
+    }
     
     if (params.get('min_price')) {
       newFilters.min_price = params.get('min_price');
@@ -1153,4 +1157,4 @@ useLayoutEffect(() => {
       </div>
     </div>
   );
-}
\ No newline at end of file
+}
diff --git a/src/services/authService.js b/src/services/authService.js
index 9771c8f..9113bf0 100644
--- a/src/services/authService.js
+++ b/src/services/authService.js
@@ -7,7 +7,8 @@ export const authService = {
       email,
       password,
       options: {
-        data: metadata
+        data: metadata,
+        emailRedirectTo: `${window.location.origin}/#/auth`
       }
     });
     
@@ -60,7 +61,7 @@ export const authService = {
   // Reset password
   async resetPassword(email) {
     const { data, error } = await supabase.auth.resetPasswordForEmail(email, {
-      redirectTo: `${window.location.origin}/auth-reset`
+      redirectTo: `${window.location.origin}/#/auth-reset`
     });
     
     if (error) throw error;
@@ -98,4 +99,4 @@ export const authService = {
     if (error) throw error;
     return data;
   }
-};
\ No newline at end of file
+};
